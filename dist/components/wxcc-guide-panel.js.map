{"file":"wxcc-guide-panel.js","mappings":"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","names":[],"sources":["src/components/wxcc-guide-panel/wxcc-guide-panel.css?tag=wxcc-guide-panel&encapsulation=shadow","src/components/wxcc-guide-panel/wxcc-guide-panel.tsx"],"sourcesContent":["aside {\r\n    position: fixed;\r\n    /* top:8%; */\r\n    bottom: 0;\r\n    right: -100%;\r\n    width: 40rem;\r\n    max-width: 34%;\r\n    height: 92vh;\r\n    background: #d6c5c5;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.27);\r\n    transition: right 1.3s ease-out;\r\n    z-index: 2;\r\n    overflow: scroll;\r\n    \r\n}\r\n\r\n\r\n:host([flip]) aside {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: -100%;\r\n    width: 40rem;\r\n    max-width: 34%;\r\n    height: 92vh;\r\n    background: #d6c5c5;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.27);\r\n    transition: left 1.3s ease-out;\r\n    z-index: 2;\r\n    overflow: scroll;\r\n    \r\n}\r\n\r\n:host([opened]) aside {\r\n    right: 0;\r\n\r\n}\r\n:host([opened][flip]) aside {\r\n\r\n  left:0;\r\n    /* right: 67% */\r\n\r\n}\r\nmain slot{\r\n    margin: 1rem;\r\n}\r\n\r\n.flipper{\r\n   float : right;\r\n}\r\n.post-header{\r\n    display: none;\r\n    /* position: fixed; */\r\n}\r\nheader {\r\n    display: block;\r\n    padding: 1rem;\r\n    /* background: black; */\r\n    background: #2196F3;\r\n    position: fixed;\r\n    top: 8%;\r\n    /* width: 100%; */\r\n    width: 31.75%;\r\n\r\n}\r\n\r\nh1.post-title {\r\n    font-size: 1.5rem;\r\n    color: white;\r\n    margin: 0;\r\n\r\n}\r\n\r\n.post-content {\r\n    margin: 1em;\r\n}\r\n\r\nh1 {\r\n    font-size: 1.5rem;\r\n    margin: 0;\r\n\r\n}\r\n\r\nheader button {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 1rem;\r\n    color: white;\r\n    background: transparent;\r\n    font-size: 1.5rem;\r\n    border: none;\r\n\r\n}\r\n\r\nheader button:focus {\r\n    outline: none;\r\n}\r\n\r\n#tabs {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n    margin: 1rem 0;\r\n    padding-top: 4rem;\r\n\r\n}\r\n\r\n#tabs button {\r\n    width: 30%;\r\n    background: white;\r\n    color: black;\r\n    text-align: center;\r\n    border: 1px solid  #2196F3;\r\n    font: inherit;\r\n    padding: 0.15rem 0;\r\n\r\n}\r\n\r\n#tabs :nth-child(1) {\r\n    border-top-left-radius: 20px;\r\n    border-bottom-left-radius: 20px;\r\n}\r\n#tabs :nth-last-child(1) {\r\n    border-top-right-radius: 20px;\r\n    border-bottom-right-radius: 20px;\r\n}\r\n\r\n#tabs button.active,\r\n#tabs button:hover,\r\n#tabs button:active {\r\n    /* background:black; */\r\n    background: #2196F3;\r\n    color: white;\r\n    border: 1px solid #2196F3\r\n}\r\n\r\n#tabs button:focus {\r\n    outline: none;\r\n}\r\n\r\n#contact-information {\r\n    padding: 0 1rem;\r\n\r\n}\r\n\r\n/* .backdrop {\r\n    position: fixed;\r\n    top:0;\r\n    left:0;\r\n    width: 100%;\r\n    height:100vh;\r\n    background: rgba(0, 0, 0, 0.75);\r\n    z-index: 10;\r\n    display: none;\r\n    opacity:0;\r\n    pointer-events: none;\r\n    transition: opacity 0.5s ease-out;\r\n}\r\n:host([opened]) .backdrop{\r\n    display: block;\r\n    opacity:1;\r\n    pointer-events: all;\r\n\r\n\r\n} */\r\n.site-header,\r\n.site-footer,\r\n.book-header,\r\n.book-summary,\r\n.search-results {\r\n    display: none;\r\n}\r\n\r\nul.nav {\r\n    margin: 1em;\r\n    padding: 0;\r\n    list-style: none;\r\n\r\n}\r\n\r\nli.nav {\r\n    margin: 0.25rem 0;\r\n    padding: 0.25rem;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n}\r\n\r\nli.nav:hover,\r\nli.nav:active {\r\n    /* background:black; */\r\n    background: #2196F3;\r\n    color: white;\r\n}\r\n\r\nsvg{\r\n    fill:#c0c0c0;\r\n    height:20px;\r\n    width:80px;\r\n}\r\nsvg:hover{\r\n    fill: #f0efef;\r\n    /* fill: #f7f7f7 */\r\n}\r\n\r\n/* for gql lessons */\r\n.btn{border-radius:30px;padding:5px 10px; border:1px #2196F3}.btn:hover{background: #2196F3;color:white;}table td,table th{border:1px solid #404040;}table{border-collapse: collapse;}","import { Component, Prop, State, h, Listen } from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"wxcc-guide-panel\",\r\n  styleUrl: \"wxcc-guide-panel.css\",\r\n  shadow: true\r\n\r\n})\r\nexport class SideDrawer {\r\n  @State() showNav = false;\r\n  @Prop({ reflect: true }) arttitle: string;\r\n  @Prop({ reflect: true, mutable: true }) opened: boolean;\r\n  @Prop({ reflect: true, mutable: true }) flip: boolean;\r\n  @State() content\r\n  @State() lessons: { title: string, url: string }[] = []\r\n  @State() currentPage\r\n  @Prop({ reflect: true }) lList: string;\r\n  @State() lastScroll = 0;\r\n\r\n  async componentWillLoad() {\r\n\r\n    const response = await fetch(this.lList)\r\n    // sessionStorage.setItem(\"lessons\", await response.text())\r\n    const lessons = await response.json()\r\n    this.lessons = await lessons.map(match => {\r\n      return { title: match[\"title\"], url: match[\"address\"] }\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n  // onCloseDrawer(){\r\n  //     this.opened=false;\r\n  // }\r\n  onContentChange(content: string) {\r\n    this.showNav = content === \"nav\"\r\n    // console.log(content)\r\n  }\r\n  // @Method()\r\n  // async open(){\r\n  //   this.opened=true \r\n  // }\r\n\r\n  @Listen('toggleGuide', { target: \"body\" })\r\n  onToggle(event: CustomEvent) {\r\n    console.log(event.detail)\r\n    this.opened = !this.opened\r\n  }\r\n\r\n  @Listen('wxccGuidePageTurn', { target: \"body\" })\r\n  onNext(event: CustomEvent) {\r\n    //  console.log(event.detail)\r\n    let url\r\n    const iHere = this.lessons.findIndex(x => x.title === this.currentPage)\r\n    if (!iHere) {\r\n      this.currentPage = this.lessons[0].title\r\n    }\r\n    //  console.log(this.currentPage)\r\n    //  console.log(iHere)\r\n    // this.currentPage = this.lessons[iHere + 1].title\r\n    if (event.detail === \"next\") {\r\n      url = this.lessons[iHere + 1].url\r\n      this.currentPage = this.lessons[iHere + 1].title\r\n      this.lastScroll = document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop\r\n      document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop = 0\r\n    } else {\r\n      url = this.lessons[iHere - 1].url\r\n      this.currentPage = this.lessons[iHere - 1].title\r\n      document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop = this.lastScroll\r\n    }\r\n    this.getHTML(url)\r\n      .then(html => {\r\n        if (html !== null) {\r\n          this.content = html\r\n          this.content = <div innerHTML={this.content}></div>\r\n          // console.log(html);\r\n\r\n        }\r\n      });\r\n      this.showNav = false\r\n  }\r\n\r\n  onChoice(url) {\r\n    this.getHTML(url)\r\n      .then(html => {\r\n        if (html !== null) {\r\n          this.content = html\r\n          this.content = <div innerHTML={this.content}></div>\r\n          this.currentPage = this.lessons[this.lessons.findIndex(x => x.url === url)].title\r\n          this.showNav = false\r\n        }\r\n      })\r\n  }\r\n\r\n  async getHTML(url) {\r\n    try {\r\n      const response = await fetch(url);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const html = await response.text();\r\n      return html;\r\n    } catch (error) {\r\n      console.error(\"Error during fetch:\", error);\r\n      return null;\r\n    }\r\n  }\r\n componentDidUpdate(){\r\n  \r\n    Array.from(document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelectorAll(\"textarea\")).forEach((element:any) => {element.value = element.value.replaceAll(\"\\\\\",\"\")});\r\n    // document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop=0 \r\n    // Remove style css from jekyll site\r\n    document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"link[rel=stylesheet]\").remove()\r\n\r\n }\r\n  render() {\r\n    const fIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M32 96l320 0V32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l96 96c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-96 96c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160L32 160c-17.7 0-32-14.3-32-32s14.3-32 32-32zM480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32H160v64c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-96-96c-6-6-9.4-14.1-9.4-22.6s3.4-16.6 9.4-22.6l96-96c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 64H480z\"/></svg>\r\n    let mainContent = this.content || <slot />;\r\n    if (this.showNav) {\r\n      mainContent = <ul class=\"nav\">{this.lessons.map(lesson => (\r\n        <li class=\"nav\" onClick={this.onChoice.bind(this, lesson.url)}><strong>{lesson.title}</strong></li>\r\n      ))}</ul>\r\n    }\r\n\r\n\r\n    return [\r\n      // <div class=\"backdrop\" onClick={this.onCloseDrawer.bind(this)}/>,\r\n      <aside >\r\n        <header>\r\n          <h1 class=\"post-title\">{this.currentPage || this.arttitle} <span class=\"flipper\" onClick={()=>this.flip = !this.flip} >{fIcon}</span></h1>\r\n          {/* <button onClick={this.onCloseDrawer.bind(this)}>X</button> */}\r\n        </header>\r\n\r\n        <section id=\"tabs\">\r\n          <button class={!this.showNav ? \"active\" : \"\"} onClick={this.onContentChange.bind(this, \"lesson\")}>Lesson</button>\r\n          <button class={this.showNav ? \"active\" : \"\"} onClick={this.onContentChange.bind(this, \"nav\")}>Navigation</button>\r\n        </section>\r\n        <main>\r\n          {mainContent}\r\n        </main>\r\n      </aside >\r\n    ];\r\n  }\r\n}\r\n"],"version":3}
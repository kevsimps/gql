{"version":3,"file":"wxcc-time.js","sourceRoot":"","sources":["../../../src/components/wxcc-time/wxcc-time.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAU5D,MAAM,OAAO,QAAQ;;kBACH,IAAI,IAAI,EAAE;kBACV,IAAI,IAAI,EAAE;;;;;;;;;oBASR,IAAI;;IAEpB,UAAU,CAAC,GAAW;QAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;QAChB,IAAI,GAAG,KAAK,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;gBACtD,IAAI,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;YAEjE,CAAC;iBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,KAAK,KAAK,EAAE,CAAC;gBAC3C,IAAI,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;YAClC,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA;YAC7D,CAAC;YACD,wDAAwD;YACxD,IAAI,KAAK,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YACzD,IAAI,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YACnD,qBAAqB;YACrB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,CAAA;YACrE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YACrD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,EAAY,CAAA;QAC3C,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;gBACzB,IAAI,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;YACjE,CAAC;iBAAM,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,KAAK,EAAE,CAAC;gBACzC,IAAI,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;YAClC,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;YAC3D,CAAC;YACD,wDAAwD;YACxD,IAAI,KAAK,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YACzD,IAAI,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YACnD,qBAAqB;YACrB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,CAAA;YACrE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YACrD,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,EAAY,CAAA;YACrC,iCAAiC;QAErC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,GAAW;QAChB,IAAI,GAAG,KAAK,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAA;QAClC,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAA;QAChC,CAAC;QACD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAA;IACxB,CAAC;IAGD,QAAQ;QACJ,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAA;IAC1B,CAAC;IAED,MAAM;QAEF,OAAO;YACH,4DAAK,KAAK,EAAE,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC9C;oBAAQ,6DAAM,KAAK,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAa;oBAAA,4DAAK,KAAK,EAAC,OAAO,kBAAkB,CAAS;gBACxH,gEAAS,KAAK,EAAC,SAAS;oBACpB;wBACI,8DAAO,EAAE,EAAC,MAAM,aAAe;wBAC/B,8DAAO,IAAI,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,GAAU;wBAAA,8DAAO,IAAI,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,GAAW;wBACvM,+DAAQ,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC;4BACnF,gEAAiB;4BACjB,+DAAQ,KAAK,EAAC,QAAQ,qBAAwB;4BAC9C,+DAAQ,KAAK,EAAC,SAAS,iBAAoB;4BAC3C,+DAAQ,KAAK,EAAC,UAAU,gBAAmB;4BAC3C,+DAAQ,KAAK,EAAC,WAAW,iBAAoB,CACxC,CACP;oBACN,4DAAS;oBACT;wBACI,8DAAO,EAAE,EAAC,IAAI,WAAa;wBAC3B,8DAAO,IAAI,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,GAAU;wBAAA,8DAAO,IAAI,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,GAAW;wBACnM,+DAAQ,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC;4BAC/E,gEAAiB;4BACjB,+DAAQ,KAAK,EAAC,KAAK,UAAa;4BAChC,+DAAQ,KAAK,EAAC,QAAQ,qBAAwB;4BAC9C,+DAAQ,KAAK,EAAC,SAAS,iBAAoB;4BAC3C,+DAAQ,KAAK,EAAC,UAAU,gBAAmB;4BAC3C,+DAAQ,KAAK,EAAC,WAAW,iBAAoB,CACxC,CACP,CACA;gBACV,4DAAS;gBACT;oBACI;;wBACY,IAAI,CAAC,IAAI;;wBACjB,4DAAS;;wBACH,IAAI,CAAC,EAAE;6BACb,CAEE,CACR;SAET,CAAA;IACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACJ","sourcesContent":["import { Component, h, Listen, State } from \"@stencil/core\";\r\n\r\n\r\n@Component({\r\n    tag: \"wxcc-time\",\r\n    styleUrl: \"wxcc-time.css\",\r\n    shadow: true\r\n\r\n})\r\n\r\nexport class wxccTime {\r\n    @State() td = new Date()\r\n    @State() fd = new Date()\r\n    @State() toSelected: HTMLSelectElement\r\n    @State() fromSelected: HTMLSelectElement\r\n    @State() tTime: HTMLInputElement\r\n    @State() tDate: HTMLInputElement\r\n    @State() fTime: HTMLInputElement\r\n    @State() fDate: HTMLInputElement\r\n    @State() to: number\r\n    @State() from: number\r\n    @State() hide = true\r\n\r\n    onToSelect(zzz: string) {\r\n        console.log(zzz)\r\n        if (zzz === \"from\") {\r\n            if (!this.fromSelected.value) {\r\n                console.log(this.fDate.value + \"T\" + this.fTime.value)\r\n                this.fd = new Date(this.fDate.value + \"T\" + this.fTime.value)\r\n\r\n            } else if (this.fromSelected.value === \"now\") {\r\n                this.fd = new Date(Date.now())\r\n            } else {\r\n                this.fd = new Date(Date.now() - +this.fromSelected.value)\r\n            }\r\n            // this.fDate.value = this.fd.toISOString().slice(0, 10)\r\n            let month = (\"0\" + (this.fd.getMonth() + 1)).slice(-2, 3)\r\n            let date = (\"0\" + (this.fd.getDate())).slice(-2, 3)\r\n            // console.log(month)\r\n            this.fDate.value = (this.fd.getFullYear() + \"-\" + month + \"-\" + date)\r\n            this.fTime.value = this.fd.toTimeString().slice(0, 8)\r\n            this.from = this.fd.valueOf() as number\r\n        } else {\r\n            if (!this.toSelected.value) {\r\n                this.td = new Date(this.tDate.value + \"T\" + this.tTime.value)\r\n            } else if (this.toSelected.value === \"now\") {\r\n                this.td = new Date(Date.now())\r\n            } else {\r\n                this.td = new Date(Date.now() - +this.toSelected.value)\r\n            }\r\n            // this.tDate.value = this.td.toISOString().slice(0, 10)\r\n            let month = (\"0\" + (this.td.getMonth() + 1)).slice(-2, 3)\r\n            let date = (\"0\" + (this.td.getDate())).slice(-2, 3)\r\n            // console.log(month)\r\n            this.tDate.value = (this.td.getFullYear() + \"-\" + month + \"-\" + date)\r\n            this.tTime.value = this.td.toTimeString().slice(0, 8)\r\n            this.to = this.td.valueOf() as number\r\n            // console.log(this.td.getDate())\r\n            \r\n        }\r\n    }\r\n\r\n    onManSet(zzz: string) {\r\n        if (zzz === \"from\") {\r\n            this.fromSelected.value = null\r\n        } else {\r\n            this.toSelected.value = null\r\n        }\r\n        this.onToSelect(zzz)\r\n    }\r\n\r\n    @Listen('wxccTimeWidget', { target: \"body\" })\r\n    onToggle() {\r\n        this.hide = !this.hide\r\n    }\r\n\r\n    render() {\r\n\r\n        return [\r\n            <div class={\"frame\" + (this.hide ? \" hidden\" : \"\")}>\r\n                <header><span class=\"hideMe\" onClick={this.onToggle.bind(this)}>Hide</span><div class=\"title\">Time Widget</div></header>\r\n                <section class=\"widgets\">\r\n                    <div>\r\n                        <label id=\"from\">From: </label>\r\n                        <input type=\"date\" onChange={this.onManSet.bind(this, \"from\")} ref={el => this.fDate = el}></input><input type=\"time\" onChange={this.onManSet.bind(this, \"from\")} ref={el => this.fTime = el} ></input>\r\n                        <select ref={el => this.fromSelected = el} onChange={this.onToSelect.bind(this, \"from\")}>\r\n                            <option></option>\r\n                            <option value=\"600000\">10 minutes ago</option>\r\n                            <option value=\"3600000\">1 hour ago</option>\r\n                            <option value=\"86400000\">1 day ago</option>\r\n                            <option value=\"604800000\">1 week ago</option>\r\n                        </select>\r\n                    </div>\r\n                    <br></br>\r\n                    <div>\r\n                        <label id=\"to\">To: </label>\r\n                        <input type=\"date\" onChange={this.onManSet.bind(this, \"to\")} ref={el => this.tDate = el}></input><input type=\"time\" onChange={this.onManSet.bind(this, \"to\")} ref={el => this.tTime = el} ></input>\r\n                        <select ref={el => this.toSelected = el} onChange={this.onToSelect.bind(this, \"to\")}>\r\n                            <option></option>\r\n                            <option value=\"now\">Now</option>\r\n                            <option value=\"600000\">10 minutes ago</option>\r\n                            <option value=\"3600000\">1 hour ago</option>\r\n                            <option value=\"86400000\">1 day ago</option>\r\n                            <option value=\"604800000\">1 week ago</option>\r\n                        </select>\r\n                    </div>\r\n                </section>\r\n                <br></br>\r\n                <section>\r\n                    <p>\r\n                        from: \"{this.from}\"\r\n                        <br></br>\r\n                        to: \"{this.to}\"\r\n                    </p>\r\n\r\n                </section>\r\n            </div>\r\n\r\n        ]\r\n    }\r\n}"]}